<app-back-button></app-back-button>
<section class="text-gray-600 body-font">
  <div
    class="container px-5 py-24 mx-auto flex flex-wrap items-center justify-center"
  >
    <div
      class="lg:w-1/2 md:w-1/2 bg-gray-100 rounded-lg p-8 flex flex-col w-full mt-10 md:mt-0"
    >
      <h2
        class="w-full text-center text-2xl text-gray-900 font-medium title-font mb-5"
      >
        Registrarse
      </h2>

      <form [formGroup]="form">
        <!-- Nombres -->
        <div class="first-name-container">
          <label
            for="firstName"
            class="block mb-2 text-xl font-medium text-gray-900"
          >
            Nombres:
          </label>
          <mat-form-field class="w-full">
            <mat-label>Ingresa tus nombres</mat-label>
            <input
              matInput
              placeholder="Juan Carlos"
              formControlName="firstName"
              required
            />
          </mat-form-field>
        </div>

        <!-- Primer Apellido -->
        <div class="last-name1-container">
          <label
            for="lastName1"
            class="block mb-2 text-xl font-medium text-gray-900"
          >
            Primer Apellido:
          </label>
          <mat-form-field class="w-full">
            <mat-label>Ingresa tu primer apellido</mat-label>
            <input
              matInput
              placeholder="Pérez"
              formControlName="lastName1"
              required
            />
          </mat-form-field>
        </div>

        <!-- Segundo Apellido -->
        <div class="last-name2-container">
          <label
            for="lastName2"
            class="block mb-2 text-xl font-medium text-gray-900"
          >
            Segundo Apellido:
          </label>
          <mat-form-field class="w-full">
            <mat-label>Ingresa tu segundo apellido</mat-label>
            <input matInput placeholder="Gómez" formControlName="lastName2" />
          </mat-form-field>
        </div>

        <!-- Fecha de Nacimiento -->
        <div class="birth-date-container">
          <label
            for="birthDate"
            class="flex mb-2 text-x font-medium text-gray-900"
          >
            Selecciona el día
          </label>
          <mat-form-field class="w-full">
            <mat-label>Fecha de Nacimiento</mat-label>
            <input matInput [matDatepicker]="dp" formControlName="birthDate" />
            <mat-datepicker-toggle
              matIconSuffix
              [for]="dp"
            ></mat-datepicker-toggle>
            <mat-datepicker #dp></mat-datepicker>
          </mat-form-field>
        </div>

        <!-- Número de Teléfono -->
        <div class="phone-number-container">
          <label
            for="phoneNumber"
            class="block mb-2 text-xl font-medium text-gray-900"
          >
            Número de Teléfono:
          </label>
          <mat-form-field class="w-full">
            <mat-label>Ingresa tu número de teléfono</mat-label>
            <input
              matInput
              placeholder="1234567890"
              formControlName="phoneNumber"
              required
            />
          </mat-form-field>
        </div>

        <!-- Email -->
        <div class="email-container">
          <label
            for="email"
            class="block mb-2 text-xl font-medium text-gray-900"
          >
            Correo Electrónico:
          </label>
          <mat-form-field class="w-full">
            <mat-label>Ingresa tu correo electrónico</mat-label>
            <input
              matInput
              placeholder="nombre@ejemplo.com"
              formControlName="email"
              (blur)="updateErrorMessage()"
              required
            />
            <mat-error
              *ngIf="form.get('email')?.invalid && form.get('email')?.touched"
            >
              {{ errorMessage() }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Contraseña -->
        <div class="password-container">
          <label
            for="password"
            class="block mb-2 text-xl font-medium text-gray-900"
          >
            Contraseña:
          </label>
          <mat-form-field class="w-full">
            <mat-label>Ingresa tu contraseña</mat-label>
            <input
              matInput
              formControlName="password"
              [type]="hide() ? 'password' : 'text'"
              required
            />
            <button
              mat-icon-button
              matSuffix
              (click)="clickEvent($event)"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide()"
            >
              <mat-icon>{{
                hide() ? "visibility_off" : "visibility"
              }}</mat-icon>
            </button>
          </mat-form-field>
        </div>

        <!-- Botón de Registro -->
        <div class="next-button">
          <button
            mat-flat-button
            color="primary"
            type="submit"
            class="w-full"
            (click)="signUp()"
          >
            Registrarse
          </button>
        </div>
      </form>

      <div class="flex items-center justify-center my-4">
        <hr class="w-full border-gray-300" />
        <span class="px-2 text-gray-500">o</span>
        <hr class="w-full border-gray-300" />
      </div>

      <div class="text-center mt-4">
        <a mat-button routerLink="/auth/sign-in"
          >¿Ya tienes cuenta? Inicia sesión aquí</a
        >
      </div>
    </div>
  </div>
</section>
